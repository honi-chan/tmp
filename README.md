### 1 アプリケーションフレームワーク

本システムではアプリケーションフレームワークとして Next.js を採用する。  
（例）Spring Framework はクラウドネイティブアーキテクチャを実現しており、本システムでも今後クラウドサービスを活用し、  
先進的な技術を活用した開発を推進する想定であるため、Spring Framework を採用した。

Next.js については、詳細は以下のリファレンスを参照すること。

- https://nextjs.org/docs?utm_source=chatgpt.com
- https://nextjs.org/learn?utm_source=chatgpt.com

※非公式・有志による日本語訳  
- https://nextjs-ja-translation-docs.vercel.app/?utm_source=chatgpt.com
- https://github.com/Nextjs-ja-translation/Nextjs-ja-translation-docs?utm_source=chatgpt.com
- https://qiita.com/masakinihirota/items/99054b9f9cf428881617?utm_source=chatgpt.com

---

### 2 ソフトウェアのバージョン

本プロジェクトで使用するソフトウェアのバージョンは以下の通り。  

| ソフトウェア  | 種類およびバージョン  | 理由 |
|---------------|-----------------------|------|
| node.js   | v24.5.0                 | 現時点の最新バージョンを利用するため。 |
| Next.js   | 15.4.6                  | 現時点の最新バージョンを利用するため。 |

---

### 3 エラーハンドリング方針

アプリケーション内では様々なエラーが発生することが考えられるが、その中でも業務的なエラーと業務仕様として想定していないシステム的なエラーに大別される。  
また、業務的なエラーの中でも認証・認可に関わるものは方針が異なるので、別の分類として扱う。  

画面を表示する **Controller** と非同期処理で使用する **RestController** でも方針が異なり、それぞれのエラーの分類とハンドリングの方針は以下とする。

#### Controller の場合

| 分類             | 方針 |
|------------------|------|
| 業務エラー       | 個々の機能でエラーをハンドリングし、適切な処理や遷移先画面を制御する |
| 認証・認可エラー | 個々の機能ではエラーのハンドリングを直接行わず、上位の共通的な仕組みで制御する |
| システムエラー   | 個々の機能ではエラーのハンドリングを直接行わず、上位の共通的な仕組みで制御する |


#### RestController の場合

| 分類             | 方針 |
|------------------|------|
| 業務エラー       | 個々の機能ではエラーのハンドリングを直接行わず、上位の共通的な仕組みで制御する |
| 認証・認可エラー | Controller と同じ |
| システムエラー   | Controller と同じ |

---

### 4 ページネーション

検索結果一覧画面等の、複数のレコードを表示する画面については原則ページネーションを行うように設計する方針とする。  
1ページあたりの表示件数については、各画面の設計で決定するものとする。

また、一覧画面から詳細画面等への遷移を行った後、「戻る」制御が必要だった場合はページングの位置も併せて復元する必要がある。  
この情報は Form としてセッションスコープで管理してもよい方針としているが、一覧画面の初期表示時には既存のセッションの情報に関わらず、新しく表示処理を行うように実装すること。

ページングの具体的な実装方法については【開発ガイド】を参照すること。

---

### 5 非同期通信（Ajax）

#### 概要
ブラウザ上で JavaScript からサーバに対して非同期にリクエストを行い、サーバから返却されたレスポンスを画面の HTML 内に反映することで、画面遷移を伴わずに画面更新を行う方式について記載する。

#### インターフェース方針
Ajax 通信時に使用するデータフォーマットには JSON を採用する。  
JSON データと実行環境上でのオブジェクト表現の変換には、fetch API や axios 等の標準的な HTTP クライアントライブラリを利用して実現する。

---

### 6 画面遷移パターン一覧

本システムで想定する、標準的な画面遷移パターンを定義する。  
本項に記載する各種方式は、本項で定義した画面遷移パターンを実現するために必要とされるものが記載されている。  

画面遷移パターンの一覧を以下に示す。各パターンの詳細は【UI標準（画面）】に定義するものとし、本項では画面遷移の概要を記載するにとどめる。

| 操作の種類 | パターン名 | 内容 |
|------------|------------|------|
| 照会       | 「検索（検索一覧）⇒ 照会」型 | データを検索し、結果結果一覧から詳細なデータ照会を行う。 |
| 登録       | 「新規登録」型 | データの新規登録を行う。 |
| 変更・削除 | 「検索（検索一覧）⇒ 単一変更・削除」型 | データを検索し、検索結果一覧からデータ変更/削除を行う。 |
|            | 「検索（検索一覧）⇒ 一括変更・削除」型 | データを検索し、変更/削除を複合的に行う。 |
| その他     | 「ログイン ⇒ メインメニュー」型 | ユーザ情報を入力し、本システムにログインする。 |
|            | 「入力補助（サブウィンドウ）」型 | サブウィンドウを呼び出して項目を選択させ、選択した情報を親画面（呼び出し元）に反映する。 |
|            | 「非同期通信（Ajax）」型 | JavaScript を使用してサーバと非同期通信を行い、画面遷移を伴わずに画面の部分的な更新などを行う。 |


